generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Customer {
  id                          String    @id @default(cuid())
  applicationReferenceNumber  String    @unique
  customerNumber              String    @unique
  tinNumber                   String    @unique
  firstName                   String
  middleName                  String?
  lastName                    String
  mothersName                 String?
  gender                      String
  maritalStatus               String
  dateOfBirth                 DateTime
  nationalId                  String
  phone                       String
  email                       String?
  region                      String
  zone                        String
  city                        String
  subcity                     String
  woreda                      String
  monthlyIncome               Float
  status                      String
  accountType                 String
  nationalidUrl               String
  agreementFormUrl            String
  majorLineBusiness           String 
  majorLineBusinessUrl        String 
  otherLineBusiness           String? 
  otherLineBusinessUrl        String? 
  dateOfEstablishmentMLB      DateTime 
  dateOfEstablishmentOLB      DateTime? 
  purposeOfLoan               String
  loanType                    String 
  loanAmount                  Float 
  loanPeriod                  Int 
  modeOfRepayment             String 
  economicSector              String 
  customerSegmentation        String 
  creditInitiationCenter      String 
  applicationFormUrl          String 
  shareholdersDetailsUrl      String? 
  creditProfileUrl            String
  transactionProfileUrl       String
  collateralProfileUrl        String
  financialProfileUrl         String
  applicationStatus           ApplicationStatus @default(PENDING)
  createdAt                   DateTime  @default(now())
  updatedAt                   DateTime  @updatedAt
  @@map("customers")
}


enum ApplicationStatus {
  PENDING      // Application submitted, awaiting review
  UNDER_REVIEW // Currently being reviewed by staff
  APPROVED     // Application approved
  REJECTED     // Application rejected
  MORE_INFO    // Requires additional information from customer
  CONDITIONAL  // Approved with conditions
  WITHDRAWN    // Customer withdrew application
}